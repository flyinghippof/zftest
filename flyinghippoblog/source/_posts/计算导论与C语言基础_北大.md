---
title: 计算导论与C语言基础_北大
date: 2020-10-11 11:02:49
tags:
mathjax: true
---


# 计算机的基本原理

1. 集合论（康托尔）
2. 图灵机
3. 字母表中符号越多，读入移动次数减少，但程序数量就越多；字母表符号越少，程序量会减少，但读入移动次数就越多，所以字母表中符号最优数量可能是欧拉常数e



<!-- more -->

# 计算机的历史与未来

pass

# 程序运行的基本原理

1. 存储程序式计算机
2. 计算机基础，没怎么看，以后有需要可以看

# 感性认识计算机程序

pass

# 从现实问题到计算机程序

pass

# 理性认识C程序 导论

1. c语言规范定义得非常宽泛：long型数据长度不短于int型，short型不长于int型
2. 经常导致：相同的程序在不同的编译器上具有不同的解释，相同的程序在不同的平台上运行结果不同

# C语言中的数据成分

1. 内存：每个地址是1个byte，1个byte = 8bits，1kb = 1024 bytes
2. 变量定义：（变量类型）（变量标识符）  建议加上初始值  eg：int max = 0
3. c语言先定义后使用

## 整型

- 整型，代表整数型。针对变量的话：用来存放整数的变量

- 基本型：int   短整型：short int   长整型：long int（按照内存大小划分）

- sizeof 运算符，用于计算某种类型的对象在内存中所占的内存数


|        | 有符号                                                       | 无符号                                 |
| ------ | ------------------------------------------------------------ | -------------------------------------- |
| 基本型 | int<br />signed int                                          | unsigned int                           |
| 短整型 | short<br />short int<br />signed short<br />signed short int | unsigned short<br />unsigned short int |
| 长整型 | long<br />long int<br />signed long<br />signed long int     | unsigned long<br />unsigned long int   |

- 不写signed，默认数据类型是signed，除非显性的定义unsigned

- 正数在计算机里以原码的形式表示，就是把数字转化成二进制数，负数以补码的形式保存，补码等于原码取反加一。

- c中打印某个数的进制;

  cout<<hex<<a<<endl; // 16进制

  cout<<oct<<a<<endl; // 8进制

  如果不加更改，后边的输出都按照设置的进制输出

- signed int 最大的正数加一就会变成最小的数。当最高位是1其他位为0时，最高位既表示符号，也表示整数最高位1



## 浮点型

| 浮点型      | 长度  | 有效位 | 范围                |
| ----------- | ----- | ------ | ------------------- |
| float       | 32bit | 7位    | -3.4E+38 和 3.4E+38 |
| double      | 64bit | 15位   | -1.7E-308～1.7E+308 |
| long double | 64bit | 15位   | -1.7E-308～1.7E+308 |

- cout打印浮点数的时候默认精度是6位
- cout<<setprecision(100)<<a<<endl; //设定精度为100
- 浮点型的表示方式：1位符号位+8位指数位+23位二进制小数位
- 指数位包括1位符号位，所以能表达的最大的数为2^127（7位），log<sub>10</sub>(2<sup>127</sup>)=38.23
- 23位二进制小数位，默认为1.XXXXX，log<sub>10</sub>(2<sup>24</sup>)=7.225
- 应该避免将一个很大的数与一个很小的数直接相加或相减，否则就会丢失小的数

[以下内容参考该链接  https://blog.csdn.net/albertsh/article/details/92385277](https://blog.csdn.net/albertsh/article/details/92385277)

float的精度和取值范围：

- 精度限制：

  一个四字节的int，一共32位，取值范围是[-2147483648‬, 2147483647]，一共是4,294,967,296种可能，它的精度可以说是小数点后一位都不保留，也就是只有整数，换句话说其可以表示实数范围内的4,294,967,296个数值。

  一个float变量也是四字节，所以其可以精确表示4,294,967,296个数值（真实情况由于一些特殊的规则，最终所表示的数字个数还要少），但为什么float可以表示比4,294,967,296更大的数呐？

  int类型表示的数都是等间距的，步长为1。`float`类型存储数据的间隔不是等间距的，而是在0的附近间距小，在远离0的位置间距大。所以在数字大的时候就有了精度问题。

- float存储方式：

  float存储的数字都要先转化成(±)a.b x 2 <sup>c</sup>，由于二进制中最大的数字就是1，所以表示法可以写成(±)1.b x 2<sup>c</sup>的形式，`float`要想存储小数就只需要存储(±)，b和c就可以了。

  `float`的存储正是将4字节32位划分为了3部分来分别存储正负号，小数部分和指数部分的：

  1. Sign（1位）：用来表示浮点数是正数还是负数，0表示正数，1表示负数。
  2. Exponent（8位）：指数部分。即上文提到数字c，但是这里不是直接存储c，为了同时表示正负指数以及他们的大小顺序，这里实际存储的是c+127。
  3. Mantissa（23位）：尾数部分。也就是上文中提到的数字b

- float存储示例

  以数字6.5为例，看一下这个数字是怎么存储在`float`变量中的：

	1. 先来看整数部分，模2求余可以得到二进制表示为110。
    2. 再来看小数部分，乘2取整可以得到二进制表示为.1（如果你不知道怎样求小数的二进制，请主动搜索一下）。
    3. 拼接在一起得到110.1然后写成类似于科学计数法的样子，得到1.101 x 2 2 2^222。
    4. 从上面的公式中可以知道符号为正，尾数是101，指数是2。
    5. 符号为正，那么第一位填0，指数是2，加上偏移量127等于129，二进制表示为10000001，填到2-9位，剩下的尾数101填到尾数位上即可
    6. 内存中二进制数01000000 11010000 00000000 00000000表示的就是浮点数6.5

- float范围

  明白了上面的原理就可求`float`类型的范围了，找到所能表示的最大值，然后将符号为置为1变成负数就是最小值，要想表示的值最大肯定是尾数最大并且指数最大，
  那么可以得到尾数为 0.1111111 11111111 11111111，指数为 11111111，但是指数全为1时有其特殊用途，所以指数最大为 11111110，指数减去127得到127，所以最大的数字就是1.1111111 1111111 11111111 x 2 127 2^{127}2127，这个值为340282346638528859811704183484516925440，通常表示成 3.4028235E38，那么float的范围就出来了：[-3.4028235E38, 3.4028235E38]

- 剩下的看上边链接，详细讲解。

## 字符型

- 一个字符型占一个字节，其值可以是任何可以出现在c/c++语言中的字符
- 一个字符在内存中转化成一个相应的数字来保存，定义得时候用单引号''
- 字符型的存储方式和整型相同，所以可以与整型数据相互赋值，可以和整数一样进行运算

- 还有转义字符

## 布尔型

- 用于存储真和假的变量，占用一个字节，字节是计算机程序能够控制的最小存储单位，即使对位进行运算也是以字节为单位来进行的。
- 赋0存0，赋非0存1

## 常数

- 在程序运行过程中，其值保持不变的量。包括：字面常量和符号常量。

- 字面常量：-1，0，123等数字。

- 符号常量：用一个标识符代表一个常量。如const double PI= 3.1415926

- 常量的类型：

  常量的类型通过常量的后缀来标注。例如：

  n = 10000L //长整型常量

  k = 10000U // 无符号整型常量

  x = 3.1415F // 单精度浮点型常量

  浮点型常量默认为double型，U L F（后缀）均可以小写。

## 变量的名字

- 标识符：用来标识符号常量名、变量名、函数名、数组名、类型名、文件名的有效字符序列称为标识符。

- c++语言规定：标识符只能由字母、数字和下划线三种字符组成，且第一个字符必须为字母或下划线，且不可与保留字（关键字）相同。
- C++有63个保留字
- 匈牙利命名法：
  1. 以一个或者多个小写字母开头，来指定数据类型
  2. 其后是一个或者多个第一个字母大写的单词，指出变量的用途
- 驼峰命名法：
  1. 由一个或多个单词连结在一起
  2. 第一个单词以小写字母开始
  3. 第二个单词的首字母大写或每一个单词的首字母都采用大写字母

# C语言中的运算成分

## 赋值运算符

- =
- 在变量定义的环节时，变量是不能连等的
- 两边类型不同：
  1. 若=两边的类型不一致，赋值时要进行类型转换
  2. 不管=右边的操作数是什么类型，都要转换为=左边的类型
- 长数赋给短数：
  1. 截取长数的低n位送给短数
  2. 然后短数按照其相应的规则进行解析这个数

- 短数赋给长数：
  1. 原来是什么数，现在还是什么数

- 符号位的赋值处理
  1. 直接赋值，不管符号位还是数字位

## 赋值运算的说明

- 程序中由运算符、操作数和括号等组成的计算式叫表达式
- 赋值语句在c语言里被当做运算符，也叫表达式
- 所有表达式都是有值的，赋值语句也不例外，其值是赋值符号传递的值
- 在赋值符号前加上其他运算符号则构成符合赋值运算
- 连续的赋值运算，按照自右向左的结合顺序 

## 算术运算

- %是模运算，即求余运算，必须是整数
- 整数运算，结果仍为整数
- 实数（只要出现了实数）的运算，结果为double型，舍入的方向随编译器不同而不同
- 优先级
  1. （）
  2. \*  / %
  3. \+ -
  4. 同一级别采取从左至右的结合方向

## 自增自减运算

- ++i，--i：在使用i之前，先将i的值加（减）1
- i++，i--：在使用i之后，再将i的值加（减）1
- 后置的++的优先级高于负号
- ++ 只能用于变量，不能用于表达式
- 在VC编译器下，当输出多个值时，优先计算输出最右侧表达式的值

- 运算符优先级：

  1. 最高级：出现同级别运算符时的结合方向是从左往右（下面级别没写结合顺序时，默认是从左往右）

     ( )圆括号

     [ ]下标运算符号

     ->指向结构体成员运算符

     .结构体成员运算符

  2. 第二级：！、~、++、--、-、（类型）、*、&、sizeof。

     这一级都是单目运算符号，这一级的结合方向是从右向左。

  3. 第三级：+、-、*、/、%

     这一级都是算术运算符，结合顺序和数学学习中一致的，先乘除取余数，后加减。

  4. 第四级：<<、>>

     这是左移、右移运算符，位运算时可能需要用到。

  5. 第五级：<、<=、>、>=、！=、==

     这些运算符也称为关系运算符，其中<、<=、>、>=高于！=、==。

  6. 第六级：&、^、|

     这三个符号也是位运算符号，其中内优先级，&>^>|。

  7. 第七级：&&、||

     逻辑与&&优先级大于逻辑或||。

  8. 第八级：？  ：

     也称为条件运算符号，是C语言中唯一的一个三目运算符，结合顺序是从右往左。

  9. 第九级：=、+=、-+、*=、/=、%=

     这些运算符也叫做赋值运算符，除此之外，>>=、<<=、&=、^=、|=这些赋值运算符也在这一级别内，结合顺序是从右往左。

  10. 最低级：，

      逗号运算符也称为顺序求值运算符，在C语言中，运算级别最低。

- 运算符总结

  1. 总的来说，**初级运算符**( )、[ ]、->、.  高于  **单目运算符** 高于  **算数运算符**（先乘除后加减）  高于  **关系运算符** 高于 **逻辑运算符**（不包括！） 高于 **条件运算符** 高于 **赋值运算符**  高于 **逗号运算符。**

     **位运算符**的优先级比较分散。

  2. 除了赋值运算符、条件运算符、单目运算符三类的平级运算符之间的结合顺序是**从右至左**，其他都是从左至右。

## 关系运算符

- 这些运算符也称为关系运算符，其中<、<=、>、>=高于！=、==。
- **算数运算符** 高于 **关系运算符** 高于 **赋值运算符**

## 逻辑运算与混合运算

- 优先级：! > && > ||
- 逻辑非！> 算数运算符 > 关系运算符 > && 、|| > 赋值运算符
- 逻辑表达式运算有短路特性

## 逗号，条件，强转

1. 逗号：

- 逗号也是运算符
- 表达形式：表达式1，表达式2，....表达式n
- 先求表达式1，再求表达式2，.....再求表达式n，整个表达式的值为表达式n的值

2. 条件表达式：

- 形式：表达式1？表达式2：表达式3
- 规则：如果表达式1的值为真，则以表达式2的值作为条件表达式的值，否则以表达式3的值作为整个条件表达式的值

3. 强制类型转换

- 形式：（类型名）（表达式）
- 例如：（double）a -- 将a的值转换成double类型
- 强制类型转换后，被转换的量的类型并没有发生变化

## 位运算

- 也是通过对字节的运算来实现对位的控制

- 位逻辑运算符：

     **&** （位  “与”）  and
     **^** （位  “异或”）
     **|**  （位   “或”）  or
     **~** （位  “取反”）

- 移位运算符：
     **<<**（左移）高位左移溢出，低位补0，不溢出的话左移一位相当于乘2

     **>>**（右移）
     
- 右移运算符号位的处理

     1. 对无符号数，右移时左边高位移入0
     2. 对于有符号数
        - 若原来符号位为0（正数），则左边移入0
        - 若符号位原来为1（负数），则左边移入0还是1要取决于所用的计算机系统
          1. 若移入0，称为“逻辑右移”或“简单右移”
          2. 若移入1，称为“算术右移”（VC）

- 不同长度的数据进行位运算

     1. 如果两个数据长度不同进行位运算时，系统会将二者按右端对齐
     2. 补位：
        1. 如果短数为无符号整型数，则左侧添满0
        2. 如果短数为有符号整型数：
           - 如果其为正数，则左侧16位补满0
           - 如果其为负数，则左侧16位补满1

- 优先级

     取反 > 算数运算符 > 左移右移 > 关系运算符 > 按位与 > 按位异或 > 按位或 > 逻辑运算符

- 作用：

     1. 与运算：取一个数中某些指定位
     2. 或运算：对一个数据的某些位定值为1
     3. 异或运算：使某些特定为翻转，使特定位保持不变，不使用临时变量交换两个值



# C语言中的控制成分

## 再谈分支语句

- 在执行if语句前先对表达式求解

  1. if（）内可以是任意的数值类型，包括整型、实型、字符型、指针
  2. 若表达式值为0，按假处理
  3. 如表达式值非0，按真处理

- switch

  1. ```c
     switch (表达式)
     {
             case 常量表达式1：语句1；
             case 常量表达式2：语句2；
                 ...
             case 常量表达式n：语句n；
             default：语句n+1；
     }
     ```

  2. 当表达式的值与某一个case后面的常量表达式的值相等时，就执行此case后面的所有语句，若所有case中的常量表达式的值都没有与表达式的值匹配的，就执行default后边的语句

  3. 注意：当case符合条件时，他就执行此case和其后边所有case（包括default）的所有语句，相当于其只提供一个入口

  4. 如果只执行一条语句，可以加break

  5. default可以出现在程序的任何位置，也只提供一个程序的入口，其当所有case不满足是进入该入口，也会依次向下执行



## 再谈循环语句

- C程序中的循环语句
  1. 用for语句构成循环
  2. 用while语句构成循环
  3. 用do...while语句构成循环，至少循环一次再判断
  4. 同goto语句和if语句构成循环
- 循环中止或跳出语句
  1. 用continue语句结束本次循环
  2. 用break语句跳出本层循环

## Goto之争

- 无条件转向语句
- 形式：goto 语句标号；
- 语句标号：标识符，定名规则与变量名相同  



# C程序中的数组

## 再谈一维数组

- 数组的定义：类型 数组名[常量表达式]
- 各种初始化方式

## 其他的数组小节

pass

# C程序中的字符串

## 字符数组和字符串

- 定义：char a[10] = {'a','b','c'}，部分位置初始化，后边的会定义为'\0'
- 字符串有一个结束位--\0
- 只可以在数组定义并初始化的时候可以用如：char c[6] = "china";的形式
- 不能用赋值语句将一个字符串常量或字符数组直接赋给另一个字符数组
- 如果两个字符串赋值，必须循环赋值
- 输出字符数组的话，可以直接利用其名字输出

## 输入缓冲区

- cin 输入到正确的数据的话，其会返回非零的值，否则会返回0，表示发生错误
- 所以可以写while（cin>>x）

## 一个字符的输入

- cin 会跳过回车，跳过空格
- cin.get()函数可以用于读入一个字符
  1. cin.get() 无参数
  2. cin.get(a) 一个参数  a为char型的变量
  3. 能把空格和回车都当做字符
- c = getchar() 不跳过任何字符
- EOF表示文件的结束符

## 一串字符的输入

- 利用cout输出字符数组，其会一次输出数组中的元素，直到遇到第一个\0

- 可以直接用cin输入字符串

- 利用函数cin.get()

  形式：cin.get(ch,10,'\n');

  意义：读取10-1个字符（包含空格），赋给指定的字符数组，如果在读取10-1个字符之前，遇到指定的终止字符‘\n’，则提前结束，终止字符默认为‘\n’。读取成功返回非0值，失败返回0值

- cin.getline()  与上边类似，区别如下：

  1. getline遇到终止标志字符是结束，缓冲区指针移到终止标志字符之后
  2. get遇到终止字符是停止读取，指针不移动

- cin输入或指针会停在输入的后边回车的前边，所以可以加一个cin.get()来读取多余的回车

